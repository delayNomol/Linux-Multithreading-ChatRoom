# Linux-Multithreading-ChatRoom
使用epoll多路IO复用再结合线程池并发实现的网络聊天室

注：代码完全是c的代码，文件是cpp，因为用vs2022编写的，创建项目的时候，默认项目是cpp文件2333333，后面懒得改了。写完才发现，其实用c++编成多态的话，比c方便很多。

服务端：由主线程负责监听epoll事件，监听accept建立与客户端连接；与客户端建立连接后，将对应的socket文件描述符和要监听的事件结构体添加的epoll红黑树上，并将客户端的地址存到地址表里；epoll_wait非阻塞监听，当有客户端发来请求时，将任务添加到线程池里的任务队列；此时发送信号通知工作线程处理客户端的请求，并将对应文件描述符的监听事件从红黑树摘下，处理完请求后才重新添加到红黑树，处理完后遍历地址表把数据发给所有的已连接客户端，以此实现网络聊天室的功能。

客户端：通过TCP与服务端建立连接，主线程负责把聊天信息发给服务端，副线程负责接收来自服务端的信息。
